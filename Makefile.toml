# Docs: https://github.com/sagiegurari/cargo-make

env_files = [
    "./dev.env",
]

[config]
default_to_workspace = false

[tasks.clean]
command = "cargo"
args = ["clean"]

[tasks.build]
command = "cargo"
args = ["build"]

[tasks.run]
command = "cargo"
args = ["run"]

[tasks.test]
command = "cargo"
args = ["test"]

[tasks.dbstart]
command = "docker-compose"
args = ["-f", "docker/db.yml", "up", "-d" ]

[tasks.dbstop]
command = "docker-compose"
args = ["-f", "docker/db.yml", "down" ]

[tasks.dbdrop]
script = [
    "docker rm --force docker-mariadb-1",
    "docker volume rm docker_mariadb_data",
]
