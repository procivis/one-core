[package]
name = "one-core"
version = "0.1.0"
edition = "2021"
build = "build.rs"

[features]
# Treat build warnings as error
strict = []
mysql = ["migration/mysql", "sea-orm/sqlx-mysql"]

[dependencies]
async-trait = "0.1.68"
migration = { path = "../../apps/migration", default-features = false }
sea-orm = { version = "0.12.1", default-features = false, features = [
    "sqlx-sqlite",
    "runtime-tokio-rustls",
    "macros",
    "with-time",
    "with-uuid",
    "with-json",
] }
serde_yaml = "0.9.25"
serde.workspace = true
serde_json.workspace = true
time.workspace = true
tracing.workspace = true
uuid.workspace = true
shadow-rs.workspace = true
thiserror.workspace = true
tokio.workspace = true

jwt-simple = "0.11.6"
base64 = "0.21.2"
reqwest = { version = "0.11.18", default-features = false, features = [
    "rustls-tls",
    "rustls-tls-native-roots",
] }

[dev-dependencies]
tokio = { version = "1", features = ["rt-multi-thread", "macros"] }
tracing = "0.1"
tracing-test = "0.2"

[build-dependencies]
shadow-rs.workspace = true
envmnt = "0.10.4"
