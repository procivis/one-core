[package]
name    = "one-core"
version = "0.1.0"
edition = "2021"
build   = "build.rs"
publish = false

[dependencies]
anyhow.workspace           = true
async-trait                = { version = "0.1" }
ct-codecs.workspace        = true
dto_mapper.workspace       = true
reqwest.workspace          = true
serde_yaml                 = { version = "0.9" }
serde.workspace            = true
serde_json.workspace       = true
serde_qs.workspace         = true
serde_urlencoded.workspace = true
thiserror.workspace        = true
time.workspace             = true
tokio.workspace            = true
uuid.workspace             = true
shadow-rs.workspace        = true
strum.workspace            = true
mockall                    = { workspace = true, optional = true }
rand.workspace             = true
rand_chacha.workspace      = true
sha2                       = { version = "0.10" }
ed25519-compact            = { version = "2.1" }
bit-vec                    = { version = "0.6" }
flate2                     = { version = "1.0" }
regex                      = { version = "1.10" }
url.workspace              = true
figment                    = { version = "0.10", default-features = false }
bs58                       = { version = "0.5" }
strum_macros               = { version = "0.26" }
cocoon                     = { version = "0.4" }
tokio-util                 = { version = "0.7", features = ["compat"] }
shared-types               = { version = "0.1.0", path = "../shared-types" }
elliptic-curve.workspace   = true
p256.workspace             = true
fmap.workspace             = true
pqc_dilithium              = { version = "0.2.0", git = "https://github.com/kibernetikos/dilithium", rev = "b7106801cf" }
convert_case               = { version = "0.6" }
sophia_jsonld              = { version = "0.8.0", features = ["http_client"] }
sophia_api                 = { version = "0.8" }
sophia_c14n                = { version = "0.8" }
pairing_crypto             = { version = "0.4", git = "https://github.com/Iskander508/pairing_crypto", rev = "517a424a989b57b987aacb3642bd7cd2c60b94d1" }
blstrs                     = { version = "0.7" }
hmac                       = { version = "0.12" }
serde_cbor                 = { version = "0.11" }

[dev-dependencies]
bs58               = { version = "0.5" }
wiremock.workspace = true
mockall.workspace  = true
tokio              = { workspace = true, features = ["rt-multi-thread", "macros"] }
assert2            = { version = "0.3" }
indoc              = { version = "2.0" }
rusty-fork         = { version = "0.3" }

[build-dependencies]
shadow-rs.workspace = true

[features]
default     = ["config_yaml"]
mock        = ["mockall"]
config_yaml = ["figment/yaml"]
config_json = ["figment/json"]
config_env  = ["figment/env"]


[lints]
workspace = true
