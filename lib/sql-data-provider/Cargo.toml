[package]
name = "sql-data-provider"
version.workspace = true
edition.workspace = true

[features]
# Treat build warnings as error
strict = []
mysql = ["migration/mysql", "sea-orm/sqlx-mysql"]

[dependencies]
one-core = { path = "../../lib/one-core" }
async-trait = "0.1.68"
migration = { path = "../../apps/migration", default-features = false }
sea-orm = { version = "0.12.1", default-features = false, features = [
    "sqlx-sqlite",
    "runtime-tokio-rustls",
    "macros",
    "with-time",
    "with-uuid",
    "with-json",
] }
serde_yaml = "0.9.25"
serde.workspace = true
serde_json.workspace = true
time.workspace = true
tracing.workspace = true
uuid.workspace = true
thiserror.workspace = true
tokio.workspace = true

[dev-dependencies]
mockall.workspace = true
one-core = { path = "../../lib/one-core", features = ["mock"] }
tokio = { workspace = true, features = ["macros"] }
